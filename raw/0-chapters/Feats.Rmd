---
title: "Feats"
output:
  html_document:
    css: C:\Users\acer\Documents\Perico\OCIO\SFRPG-web\raw\SFRPG.css
  pdf_document:
    css: C:\Users\acer\Documents\Perico\OCIO\SFRPG-web\raw\SFRPG.css
  word_document: default
---



```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
library(plyr)
library(reshape2)
library(dplyr)

source('~/Perico/Trabajo/COM/Codigo/R/utils/plyr.nested.R')
source('~/Perico/OCIO/SFRPG-web/scripts/Feat-csv-to-html.R')


#cat(attr(getFeatSection(getFeatList()$feats),"full"))
featlist <- getFeatList()

```
###Level 1 Feats

Players can choose level 1 feats from the following categories:

- **Defense Focus**: Feats that improve a character's AC while wearing certain armors, and provide a small additional bonus.
- **Offense Focus**: Feats that improve a character's attacks with certain weapons or implements, and provide a small additional bonus.
- **Toughness**: Feats that improve a character's HP, and provide a small additional bonus.

Note that Offense Focus is the largest feat category in the game and, due to its size, has been split into three parts for the sake of readability: 

- **Offense Focus (Flexible)**: Feats that boost both weapon and implement attacks.
- **Offense Focus (Weapon)**: Feats that boost weapon attacks.
- **Offense Focus (Implement)**: Feats that boost implement attacks.


<div class="tip">**Tip**: The Toughness feat (from the category of the same name) is a good level 1 Feat for starting players who don’t want to complicate themselves.</div>

<div class="tip">**Tip**: Feats in the Toughness category are generally better than Defense Focus feats at providing raw survivability. Feats in the Defense Focus category are usually better at providing protection against melee attacks, or for characters that are interested in their secondary benefits. When in doubt, take both.</div>

<div class="tip">**Tip**: Offense Focus Feats are the one of the main reasons to choose one Weapon Family over another, or one type of Implement over another. The other reason is the player’s aesthetic preference - some people just like axes a lot. Players who carefully study all options to choose the one that best suits their character build will probably gain a small edge in combat, but the Feats are designed to be close in power level, so choosing based on personal taste will be almost as effective.</div>


```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(attr(featlist$feats$"1"$"Defense Focus","section"))

```

```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
pre  <- featlist$tag$pre
post  <- featlist$tag$post
of.focus <- featlist$feats$"1"$"Offense Focus"$raw
flexible.focus  <- of.focus%>% filter(grepl("Flexible",Keywords))
weapon.focus  <- of.focus%>% filter(grepl("Weapon",Keywords))
implement.focus  <- of.focus%>% filter(grepl("Implement",Keywords))

#flexible.focus.table  <- buildTableApply(flexible.focus,df.names=setdiff(names(flexible.focus),"Text"))
#weapon.focus.table  <- buildTableApply(weapon.focus,df.names=setdiff(names(weapon.focus),"Text"))
#implement.focus.table  <- buildTableApply(implement.focus,df.names=setdiff(names(implement.focus),"Text"))

#flexible.focus  <- buildElementApply(flexible.focus,pre,post,df.names=setdiff(names(flexible.focus),"Summary"))
#weapon.focus  <- buildElementApply(weapon.focus,pre,post,df.names=setdiff(names(weapon.focus),"Summary"))
#implement.focus  <- buildElementApply(implement.focus,pre,post,df.names=setdiff(names(implement.focus),"Summary"))

```
#### Category - Offense Focus (Flexible){.newPage}
```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(getFeatSection(flexible.focus))
#cat(flexible.focus.table)
#cat(flexible.focus)*/
```
#### Category - Offense Focus (Weapon){.newPage}
```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(getFeatSection(weapon.focus))
#cat(weapon.focus.table)
#cat(weapon.focus)
```
#### Category - Offense Focus (Implement){.newPage}
```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(getFeatSection(implement.focus))
#cat(implement.focus.table)
#cat(implement.focus)

cat(attr(featlist$feats$"1"$"Toughness","section"))

```


###Level 1 Optional Feats: Training {.newPage}

With the GM's permission, players can choose level 1 feats that expand their weapon and armor training:

- **Armor Training**: Feats that provide training with new types of armor.
- **Weapon Training**: Feats that provide training with new types of weapons.


<div class="tip">**Tip**: Armor Training is usually not as strong as Defense Focus, but they both stack, and you can take multiple Training feats.</div>

<div class="tip">**Tip**: Weapon Training is usually worse than an Offense Focus up to level 15, and stronger after level 16. They both stack.</div>

<div class="tip">**Tip**: There is no Implement Training Feat. If you are really interested in using a different Implement, go Multiclass and take Multiclass Implement or, alternately, convince your GM that you want it for story reasons and not to optimize your character.</div>

<div class="tip">**GM Tip**: If your player is really interested in getting training with a different Implement, allow them to have it for free if they provide a convincing argument. When in doubt, make it conditional on them taking an Offense Focus Feat that is not specific to that implement, such as Dual Focus.</div>

<div class="design">**Designer Note**: GMs should feel free to leave these feats out of the game, particularly for beginning players. From a mechanical standpoint, the feats are redundant with Offense Focus and Defense Focus feats, and slightly imbalanced, as they are often clearly weaker or stronger than the alternatives. We have included them as optional categories because they are a cool tool to customize a character's look and feel, and for many game groups that will be worth the slight tradeoff in game balance.</div>



```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(attr(featlist$feats$"1"$"Armor Training","section"))
```

####Weapon Training (Unlimited)
```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE, prompt=FALSE,cache=FALSE}
cat(getFeatSection(featlist$feats$"1"$"Weapon Training"$raw))
cat(attr(featlist$feats$"4","full"))
cat(attr(featlist$feats$"11","full"))
cat(attr(featlist$feats$"21","full"))

```





